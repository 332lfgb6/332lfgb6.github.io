(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"1f57":function(t,i,e){},"28d8":function(t,i,e){"use strict";var a=e("1f57"),o=e.n(a);o.a},"3c7d":function(t,i,e){"use strict";var a=e("98fe"),o=e.n(a);o.a},"98fe":function(t,i,e){},c4ca:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"topic"},[e("div",{staticClass:"nav-bar2 shadow-to-border"},[e("i",{staticClass:"iconfont icon-back",on:{click:function(i){return t.$router.back()}}}),e("div",{staticClass:"input-container"},[e("i",{staticClass:"iconfont icon-search"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{placeholder:"搜索"},domProps:{value:t.keyword},on:{keyup:t.startSearch,input:function(i){i.target.composing||(t.keyword=i.target.value)}}}),e("i",{staticClass:"iconfont icon-reset reset",on:{click:function(i){t.keyword=""}}})])]),e("topic-introduction",{attrs:{"topic-detail":t.topicDetail}}),t._l(t.weiboListTopicInfo.weiboList,(function(t){return e("a-weibo",{key:t.id,attrs:{weibo:t}})}))],2)},o=[],c=(e("fb6a"),e("ac1f"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"topic-introduction"},[e("img",{attrs:{src:t.topicDetail.image,alt:""}}),e("div",{staticClass:"introduction"},[e("div",{staticClass:"topic-name"},[t._v("#"+t._s(t.topicDetail.topic_name)+"#")]),e("div",{staticClass:"read-chat"},[t._v("阅读"+t._s(t.topicDetail.read_number)+" 讨论"+t._s(t.topicDetail.chat_number))])])])}),n=[],s={name:"TopicIntroduction",props:["topicDetail"]},r=s,p=(e("3c7d"),e("2877")),u=Object(p["a"])(r,c,n,!1,null,"309adf71",null),l=u.exports,d=e("031f"),f=e("5508"),m=e("b775"),h=function(t){return Object(m["a"])({url:"/api/v1/get_topic_detail/",params:{topicName:t}})},b=e("96eb"),v=e.n(b),w={name:"index",components:{AWeibo:f["a"],TopicIntroduction:l},data:function(){return{keyword:"",topicName:"",topicDetail:{},weiboList:[],weiboListTopicInfo:{topic:{},weiboList:[]}}},activated:function(){this.topicName=this.$route.params.topicName,this.getWeiboList(),this.getTopicDetail()},beforeRouteUpdate:function(t,i,e){e(),this.topicName=this.$route.params.topicName,this.getWeiboList(),this.getTopicDetail()},methods:{startSearch:function(t){if(13===t.keyCode){var i=/^#(.*)#$/,e=this.keyword;if(i.test(e)){var a=i.exec(this.keyword)[1];this.$router.push({name:"Topic",params:{topicName:a}})}else this.$router.push({name:"Result",params:{keyword:e}})}},getTopicDetail:function(){var t=this;h(this.topicName).then((function(i){t.topicDetail=i.data.data;var e=t.topicDetail.image;if(!e){var a=v.a.Random,o=a.image("70x70","#4eb5ef","#FFF","png",t.topicName.slice(0,1));t.$set(t.topicDetail,"image",o)}}))},getWeiboList:function(){var t=this;Object(d["b"])({topic_name:this.$route.params.topicName}).then((function(i){t.weiboListTopicInfo=i.data}))}}},k=w,g=(e("28d8"),Object(p["a"])(k,a,o,!1,null,"19097086",null));i["default"]=g.exports}}]);